(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{112:function(t,r,a){"use strict";a(97)},130:function(t,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return f}));var e=function(){var t=this,r=t._self._c;return r("div",{staticClass:"page-authorization"},[r("div",{staticClass:"authorization__block"},[r("a",{staticClass:"authorization__cross",attrs:{href:"../"}}),t._v(" "),r("h1",{staticClass:"authorization__title"},[t._v("Авторизация")]),t._v(" "),r("form",{attrs:{method:"post"},on:{submit:function(r){return r.preventDefault(),t.onApprove.apply(null,arguments)}}},[r("div",{staticClass:"authorization-form"},[r("div",{staticClass:"authorization-form__input"},[r("app-input",{attrs:{icon:"user",title:"Логин",errorMessage:t.validation.firstError("user.name"),autofocus:"autofocus"},model:{value:t.user.name,callback:function(r){t.$set(t.user,"name",r)},expression:"user.name"}})],1),t._v(" "),r("div",{staticClass:"authorization-form__input"},[r("app-input",{attrs:{icon:"key",title:"Пароль",type:"password",errorMessage:t.validation.firstError("user.password"),autocomplete:"off"},model:{value:t.user.password,callback:function(r){t.$set(t.user,"password",r)},expression:"user.password"}})],1)]),t._v(" "),t._m(0)])])])};e._withStripped=!0;var s=a(1),n=a.n(s),o=a(0),i=a.n(o),u=a(43),c=a(21),l={mixins:[a(43).mixin],validators:{"user.name":function(t){return u.Validator.value(t).required("ЗАПОЛНИТЕ ПОЛЕ")},"user.password":function(t){return u.Validator.value(t).required("ЗАПОЛНИТЕ ПОЛЕ")}},components:{appInput:function(){return a.e(11).then(a.bind(null,91))}},data:function(){return{user:{name:"",password:""}}},methods:{onApprove:function(){var t=this;this.$validate().then(function(){var r=n()(i.a.mark((function r(a){var e;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a){r.next=14;break}return r.prev=1,r.next=4,c.a.post("/login",t.user);case 4:e=r.sent,localStorage.setItem("token",e.data.token),c.a.defaults.headers.common={Authorization:"bearer ".concat(localStorage.token)},t.$router.push("/about"),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),t.$store.dispatch("notifs/showError",r.t0.response.data.error),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(t){return r.apply(this,arguments)}}())}}},p=(a(112),a(5)),f=Object(p.a)(l,e,[function(){var t=this._self._c;return t("div",{staticClass:"authorization-form__button"},[t("button",{staticClass:"my-button",attrs:{type:"submit"}},[this._v("отправить")])])}],!1,null,"130f828e",null).exports},97:function(t,r,a){}}]);